@import "tailwindcss";
@import "tw-animate-css";

/* ============================================
   LIQUID GLASS DESIGN SYSTEM
   Apple-inspired premium glass morphism
   ============================================ */

/* Glass Effect Utilities - Reusable Classes */
@layer utilities {
  /* Glass Subtle - Light frosted effect */
  .glass-subtle {
    background: rgba(255, 248, 240, 0.7);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 0.5px solid rgba(232, 220, 196, 0.3);
    box-shadow:
      0 4px 6px -1px rgba(120, 29, 50, 0.05),
      0 2px 4px -1px rgba(120, 29, 50, 0.03),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
  }

  /* Glass Medium - Standard glass effect */
  .glass-medium {
    background: rgba(255, 248, 240, 0.8);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 0.5px solid rgba(232, 220, 196, 0.4);
    box-shadow:
      0 10px 15px -3px rgba(120, 29, 50, 0.08),
      0 4px 6px -2px rgba(120, 29, 50, 0.04),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.6);
  }

  /* Glass Strong - Heavy glass effect */
  .glass-strong {
    background: rgba(255, 248, 240, 0.95);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 0.5px solid rgba(232, 220, 196, 0.5);
    box-shadow:
      0 20px 25px -5px rgba(120, 29, 50, 0.1),
      0 10px 10px -5px rgba(120, 29, 50, 0.04),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.7);
  }

  /* Warm Glass Variants with Palestinian Colors */
  .glass-cream {
    background: rgba(244, 243, 240, 0.85);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 0.5px solid rgba(232, 220, 196, 0.4);
  }

  .glass-burgundy {
    background: rgba(120, 29, 50, 0.15);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 0.5px solid rgba(120, 29, 50, 0.3);
  }

  .glass-olive {
    background: rgba(85, 97, 60, 0.15);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 0.5px solid rgba(85, 97, 60, 0.3);
  }

  .glass-terracotta {
    background: rgba(212, 132, 106, 0.2);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 0.5px solid rgba(212, 132, 106, 0.35);
  }

  /* NEW: Boutique Shop Warm Glass Variants */
  .glass-warm-gold {
    background: rgba(244, 162, 97, 0.15);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border: 0.5px solid rgba(244, 162, 97, 0.3);
    box-shadow:
      0 4px 12px -2px rgba(224, 122, 95, 0.08),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.5);
  }

  .glass-cream-soft {
    background: rgba(248, 244, 234, 0.9);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 0.5px solid rgba(232, 213, 196, 0.4);
    box-shadow:
      0 4px 10px -2px rgba(93, 64, 55, 0.06),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.6);
  }

  .glass-sage {
    background: rgba(129, 178, 154, 0.18);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border: 0.5px solid rgba(129, 178, 154, 0.35);
    box-shadow:
      0 4px 10px -2px rgba(62, 68, 43, 0.07),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.4);
  }

  /* Glass Hover States */
  .glass-hover-intense:hover {
    background: rgba(255, 248, 240, 0.95);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-color: rgba(232, 220, 196, 0.6);
    box-shadow:
      0 20px 25px -5px rgba(120, 29, 50, 0.12),
      0 10px 10px -5px rgba(120, 29, 50, 0.06),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.8);
  }

  /* Ultra-thin Borders (Apple-style precision) */
  .border-glass {
    border-width: 0.5px;
    border-style: solid;
  }

  .border-glass-glow {
    border-width: 0.5px;
    border-style: solid;
    box-shadow: 0 0 0 0.5px rgba(232, 220, 196, 0.2);
  }

  /* Warm Gradient Overlays */
  .warm-gradient-overlay {
    position: relative;
  }

  .warm-gradient-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg,
      rgba(244, 243, 240, 0.4) 0%,
      rgba(232, 220, 196, 0.2) 50%,
      rgba(212, 132, 106, 0.15) 100%);
    pointer-events: none;
    border-radius: inherit;
  }

  /* Border Shimmer Animation */
  @keyframes borderShimmer {
    0%, 100% {
      border-color: rgba(232, 220, 196, 0.3);
      box-shadow: 0 0 0 0.5px rgba(212, 132, 106, 0.2);
    }
    50% {
      border-color: rgba(212, 132, 106, 0.5);
      box-shadow: 0 0 0 1px rgba(212, 132, 106, 0.4);
    }
  }

  .border-shimmer {
    animation: borderShimmer 3s ease-in-out infinite;
  }

  /* Multi-layer Shadow System */
  .shadow-glass-sm {
    box-shadow:
      0 2px 4px -1px rgba(120, 29, 50, 0.06),
      0 1px 2px -1px rgba(120, 29, 50, 0.04),
      inset 0 0.5px 0 0 rgba(255, 255, 255, 0.5);
  }

  .shadow-glass-md {
    box-shadow:
      0 4px 6px -1px rgba(120, 29, 50, 0.08),
      0 2px 4px -1px rgba(120, 29, 50, 0.04),
      0 0 0 0.5px rgba(232, 220, 196, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.6);
  }

  .shadow-glass-lg {
    box-shadow:
      0 10px 15px -3px rgba(120, 29, 50, 0.1),
      0 4px 6px -2px rgba(120, 29, 50, 0.05),
      0 0 0 0.5px rgba(232, 220, 196, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.7);
  }

  .shadow-glass-xl {
    box-shadow:
      0 20px 25px -5px rgba(120, 29, 50, 0.12),
      0 10px 10px -5px rgba(120, 29, 50, 0.06),
      0 0 0 1px rgba(232, 220, 196, 0.4),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.8);
  }

  /* Gold Shimmer for Premium Elements */
  @keyframes goldShimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  .gold-shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(212, 132, 106, 0.3) 50%,
      transparent
    );
    background-size: 200% 100%;
    animation: goldShimmer 3s ease-in-out infinite;
  }

  /* Smooth Blur Transitions */
  .blur-transition {
    transition: backdrop-filter 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* GPU-accelerated transforms */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform, opacity;
  }

  /* Context-aware blur (stronger on scroll) */
  .blur-sticky-light {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .blur-sticky-heavy {
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  /* Warm Palestinian Color Utilities */
  .bg-palestinian-cream-glass {
    background: rgba(244, 243, 240, 0.85);
  }

  .bg-palestinian-burgundy-glass {
    background: rgba(120, 29, 50, 0.15);
  }

  .bg-palestinian-olive-glass {
    background: rgba(85, 97, 60, 0.15);
  }

  .bg-palestinian-terracotta-glass {
    background: rgba(212, 132, 106, 0.2);
  }

  .text-palestinian-burgundy {
    color: #781D32;
  }

  .text-palestinian-olive {
    color: #55613C;
  }

  .text-palestinian-terracotta {
    color: #D4846A;
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .blur-transition,
    .border-shimmer,
    .gold-shimmer {
      animation: none;
      transition: none;
    }
  }

  /* Performance Optimizations */
  .glass-performance-boost {
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    perspective: 1000px;
    -webkit-perspective: 1000px;
  }
}

/* Simplified Homepage Optimizations */
.simplified-homepage {
  scroll-behavior: smooth;
}

.simplified-homepage * {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

.hero-gradient {
  background: linear-gradient(135deg, #fafafa 0%, #ffffff 100%);
}

.stats-card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

.news-card-hover:hover {
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.event-card-hover:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.12);
}

/* Custom Keyframes for Delightful Interactions */
@keyframes heartbeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.1); }
  28% { transform: scale(1); }
  42% { transform: scale(1.1); }
  70% { transform: scale(1); }
}

@keyframes slideInFromLeft {
  0% { transform: translateX(-100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes slideInFromRight {
  0% { transform: translateX(100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}

@keyframes culturalShimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes oliveBranchSway {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(3deg); }
  75% { transform: rotate(-3deg); }
}

@keyframes keffiyehPattern {
  0%, 100% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.1); opacity: 0.7; }
}

@keyframes palestinianFloat {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-10px) rotate(5deg); }
  66% { transform: translateY(5px) rotate(-3deg); }
}

@keyframes solidarityPulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(120, 29, 50, 0.4); }
  70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(120, 29, 50, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(120, 29, 50, 0); }
}

@custom-variant dark (&:is(.dark *));

/* Custom utility classes for Palestinian solidarity theme */
.cultural-shimmer {
  background: linear-gradient(
    90deg,
    #F4F3F0 0%,
    #ffffff 50%,
    #F4F3F0 100%
  );
  background-size: 200% 100%;
  animation: culturalShimmer 2s infinite linear;
}

.olive-branch-sway {
  animation: oliveBranchSway 4s ease-in-out infinite;
  transform-origin: center bottom;
}

.keffiyeh-pattern {
  animation: keffiyehPattern 3s ease-in-out infinite;
}

.palestinian-float {
  animation: palestinianFloat 6s ease-in-out infinite;
}

.solidarity-pulse {
  animation: solidarityPulse 2s infinite;
}

.card-glow {
  transition: all 0.3s ease;
}

.card-glow:hover {
  box-shadow:
    0 4px 20px rgba(120, 29, 50, 0.1),
    0 0 0 1px rgba(85, 97, 60, 0.1);
  transform: translateY(-2px);
}

.smooth-bounce {
  transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.smooth-bounce:hover {
  transform: translateY(-4px) scale(1.02);
}

/* Enhanced Cultural color utilities */
.text-palestinian-red { color: #781D32; }
.text-palestinian-green { color: #55613C; }
.text-palestinian-dark { color: #3E442B; }
.text-palestinian-cream { color: #F4F3F0; }

.bg-palestinian-red { background-color: #781D32; }
.bg-palestinian-green { background-color: #55613C; }
.bg-palestinian-dark { background-color: #3E442B; }
.bg-palestinian-cream { background-color: #F4F3F0; }

.border-palestinian-red { border-color: #781D32; }
.border-palestinian-green { border-color: #55613C; }
.border-palestinian-dark { border-color: #3E442B; }
.border-palestinian-cream { border-color: #F4F3F0; }

/* Typography utilities for Arabic support */
.font-arabic {
  font-family: 'Inter', 'Noto Sans Arabic', 'Cairo', system-ui, sans-serif;
  font-feature-settings: 'liga', 'kern', 'calt';
}

.text-balance {
  text-wrap: balance;
}

.text-pretty {
  text-wrap: pretty;
}

/* Enhanced reading experience utilities */
.reading-width {
  max-width: 65ch;
}

.optimal-line-height {
  line-height: 1.8;
}

.enhanced-paragraph {
  margin-bottom: 1.5rem;
  color: #4B5563;
  line-height: 1.8;
}

/* Palestinian-inspired content elements */
.solidarity-accent {
  background: linear-gradient(135deg, #781D32, #55613C);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-weight: 700;
}

.cultural-border {
  border-image: linear-gradient(90deg, #781D32, #55613C, #3E442B) 1;
}

.palestinian-shadow {
  box-shadow: 0 10px 25px rgba(120, 29, 50, 0.1);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* Enhanced content selection styling */
  ::selection {
    background-color: rgba(120, 29, 50, 0.2);
    color: #3E442B;
  }

  ::-moz-selection {
    background-color: rgba(120, 29, 50, 0.2);
    color: #3E442B;
  }

  /* Smooth scrolling for anchor links */
  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Rest of existing utilities remain unchanged */
  @keyframes solidarityPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  .solidarity-pulse {
    animation: solidarityPulse 2s ease-in-out infinite;
  }

  /* Confetti Animation */
  @keyframes confetti-fall {
    0% {
      transform: translateY(-100vh) rotateZ(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotateZ(720deg);
      opacity: 0;
    }
  }

  .confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #781D32;
    animation: confetti-fall 3s linear infinite;
  }

  .confetti:nth-child(1) { left: 10%; animation-delay: 0s; background: #781D32; }
  .confetti:nth-child(2) { left: 20%; animation-delay: 0.25s; background: #55613C; }
  .confetti:nth-child(3) { left: 30%; animation-delay: 0.5s; background: #3E442B; }
  .confetti:nth-child(4) { left: 40%; animation-delay: 0.75s; background: #781D32; }
  .confetti:nth-child(5) { left: 50%; animation-delay: 1s; background: #55613C; }
  .confetti:nth-child(6) { left: 60%; animation-delay: 1.25s; background: #3E442B; }
  .confetti:nth-child(7) { left: 70%; animation-delay: 1.5s; background: #781D32; }
  .confetti:nth-child(8) { left: 80%; animation-delay: 1.75s; background: #55613C; }
  .confetti:nth-child(9) { left: 90%; animation-delay: 2s; background: #3E442B; }

  /* Shake Animation for Urgent Petitions */
  @keyframes urgentShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
  }

  .urgent-shake {
    animation: urgentShake 0.5s ease-in-out;
  }

  /* Signature Count Up Animation */
  @keyframes countUp {
    0% { transform: scale(0.8) translateY(20px); opacity: 0; }
    50% { transform: scale(1.1) translateY(-5px); }
    100% { transform: scale(1) translateY(0); opacity: 1; }
  }

  .count-up {
    animation: countUp 0.6s ease-out;
  }

  /* Progress Bar Fill Animation */
  @keyframes progressFill {
    0% { width: 0%; }
    100% { width: var(--progress-width); }
  }

  .progress-animate {
    animation: progressFill 1.5s ease-out;
  }

  /* Floating Action for Important CTAs */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-6px); }
  }

  .float-action {
    animation: float 3s ease-in-out infinite;
  }

  /* Shimmer Animation for Skeleton Loading */
  @keyframes shimmer {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite linear;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
  }

  /* Enhanced Hover Effects for Cards */
  @keyframes cardGlow {
    0%, 100% { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
    50% { box-shadow: 0 20px 25px -5px rgba(120, 29, 50, 0.1), 0 10px 10px -5px rgba(120, 29, 50, 0.04); }
  }

  .card-glow:hover {
    animation: cardGlow 0.6s ease-in-out;
  }

  /* Micro-interactions for better UX */
  .smooth-bounce {
    transition: transform 0.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .smooth-bounce:hover {
    transform: scale(1.02) translateY(-2px);
  }

  /* Event-specific animations */
  @keyframes eventPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(120, 29, 50, 0.4); }
    50% { box-shadow: 0 0 0 8px rgba(120, 29, 50, 0); }
  }

  .event-live {
    animation: eventPulse 2s infinite;
  }

  @keyframes calendarHighlight {
    0% { background-color: transparent; }
    50% { background-color: rgba(120, 29, 50, 0.1); }
    100% { background-color: transparent; }
  }

  .calendar-highlight {
    animation: calendarHighlight 1s ease-in-out;
  }

  /* Enhanced event card hover effects */
  @keyframes eventCardHover {
    0% { transform: translateY(0) scale(1); }
    100% { transform: translateY(-4px) scale(1.02); }
  }

  .event-card-hover:hover {
    animation: eventCardHover 0.3s ease-out forwards;
  }

  /* Social action pulse */
  @keyframes socialPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  .social-pulse {
    animation: socialPulse 0.6s ease-in-out;
  }

  /* Registration success animation */
  @keyframes registrationSuccess {
    0% { transform: scale(1) rotate(0deg); background-color: #781D32; }
    25% { transform: scale(1.1) rotate(5deg); background-color: #22c55e; }
    50% { transform: scale(1.2) rotate(-5deg); background-color: #22c55e; }
    75% { transform: scale(1.1) rotate(2deg); background-color: #22c55e; }
    100% { transform: scale(1) rotate(0deg); background-color: #22c55e; }
  }

  .registration-success {
    animation: registrationSuccess 0.8s ease-in-out;
  }

  /* Enhanced Article Content Styling */
  .enhanced-prose {
    color: #374151;
    font-feature-settings: 'liga', 'kern';
    text-rendering: optimizeLegibility;
    word-break: break-word;
    hyphens: auto;
    font-variant-numeric: oldstyle-nums;
  }

  .enhanced-prose h1,
  .enhanced-prose h2,
  .enhanced-prose h3,
  .enhanced-prose h4,
  .enhanced-prose h5,
  .enhanced-prose h6 {
    color: #3E442B;
    font-weight: 700;
    margin-top: 2rem;
    margin-bottom: 1rem;
    scroll-margin-top: 6rem;
    position: relative;
  }

  .enhanced-prose h1 {
    font-size: 2rem;
    line-height: 1.25;
    margin-top: 0;
  }

  .enhanced-prose h2 {
    font-size: 1.5rem;
    line-height: 1.375;
  }

  .enhanced-prose h3 {
    font-size: 1.25rem;
    line-height: 1.5;
  }

  .enhanced-prose p {
    margin-bottom: 1.5rem;
    color: #4B5563;
    line-height: 1.8;
    font-size: 1.1rem;
  }

  .enhanced-prose blockquote {
    border-left: 4px solid #781D32;
    padding-left: 1.5rem;
    margin: 2rem 0;
    font-style: italic;
    font-size: 1.125rem;
    color: #3E442B;
    background: linear-gradient(to right, rgba(120, 29, 50, 0.05), transparent);
    border-radius: 0 0.5rem 0.5rem 0;
  }

  .enhanced-prose ul,
  .enhanced-prose ol {
    margin: 1.5rem 0;
    padding-left: 1.75rem;
  }

  .enhanced-prose li {
    margin: 0.5rem 0;
    color: #4B5563;
    line-height: 1.75;
  }

  .enhanced-prose li::marker {
    color: #781D32;
    font-weight: 600;
  }

  .enhanced-prose strong {
    color: #3E442B;
    font-weight: 600;
  }

  .enhanced-prose em {
    color: #55613C;
    font-style: italic;
  }

  .enhanced-prose a {
    color: #781D32;
    text-decoration: underline;
    text-decoration-color: rgba(120, 29, 50, 0.3);
    text-underline-offset: 2px;
    transition: all 0.2s ease;
  }

  .enhanced-prose a:hover {
    text-decoration-color: #781D32;
    color: #55613C;
  }

  .enhanced-prose img {
    border-radius: 0.75rem;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    margin: 2rem 0;
  }

  .enhanced-prose code {
    background-color: #F3F4F6;
    color: #781D32;
    padding: 0.25rem 0.5rem;
    border-radius: 0.375rem;
    font-size: 0.9em;
    font-family: ui-monospace, 'SF Mono', Consolas, monospace;
  }

  .enhanced-prose pre {
    background-color: #1F2937;
    color: #F9FAFB;
    padding: 1.5rem;
    border-radius: 0.75rem;
    overflow-x: auto;
    margin: 2rem 0;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .enhanced-prose pre code {
    background: transparent;
    color: inherit;
    padding: 0;
    border-radius: 0;
  }
}

/* ============================================
   CRAFT.JS PAGE BUILDER STYLES
   Ensures flex layouts work correctly
   ============================================ */

/* For flex container blocks (Row, InlineGroup), make child wrappers transparent to layout
   so they don't interfere with flex layout. Craft.js wraps each node in a div. */
.craftjs-flex-container > div {
  /* Keep the wrapper but make it not affect flex layout */
  display: flex;
  flex-direction: inherit;
  flex-wrap: inherit;
  align-items: inherit;
  justify-content: inherit;
}

/* Direct children of flex containers that are actual components should flex properly */
.craftjs-flex-container > div > * {
  flex-shrink: 0;
}
